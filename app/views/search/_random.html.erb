<div class="card d-flex justify-content-center align-items-center" style="width: 18rem;">
  <h5 class="card-title"><%= @restaurants.fetch("name") %></h5>
  <div class="open-now-box d-flex justify-content-center gap-4">
    <p><%= @restaurants.dig("location", "city") %>, <%= @restaurants.dig("location", "state") %></p>
    <p><%= @restaurants.dig("hours", 0, "is_open_now") ? "Open" : "Closed" %></p>
  </div>
  <img class="card-img-top" style="height: 200px;" src="<%= @restaurants["image_url"] %>" alt="Card image cap">
  <div class="search-card-body">
    <p><%= @restaurants.fetch("categories").map { |c| c["title"] }.join(", ") %></p>
    <p>Rating: <%= star_rating(@restaurants.fetch("rating").to_i) %></p>
    <p>Price: <%= @restaurants.fetch("price") %></p>
    <p>Reviews: <%= @restaurants.fetch("review_count") %> </p>
  <%= form_with model: @favorite, url: favorites_path, local: true do |f| %>
  <%= f.hidden_field "favorite[name]", value: @restaurants["name"] %>
  <%= f.hidden_field "favorite[image_url]", value: @restaurants["image_url"] %>
  <%= f.hidden_field "favorite[price]", value: @restaurants["price"] %>
  <%= f.hidden_field "favorite[location]", value: "#{@restaurants["location"]["city"]}, #{@restaurants["location"]["state"]}" %>
  <%= f.hidden_field "favorite[category]", value: params[:categories] %>
  <%= f.hidden_field "favorite[rating]", value: @restaurants["rating"] %>
  <%= f.hidden_field "favorite[api_id]", value: @restaurants["id"] %>
  
  <%= button_tag type: "submit", data: { "turbo": "false" }, class: "btn btn-primary" do %>
    <i class="fas fa-heart"></i> Favorite
  <% end %>
    <% end %>
  </div>
</div>
